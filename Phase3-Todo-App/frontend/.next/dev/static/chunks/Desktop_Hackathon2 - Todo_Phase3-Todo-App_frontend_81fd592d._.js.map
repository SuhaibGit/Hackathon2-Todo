{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/lib/api.ts"],"sourcesContent":["import { Task, User, ApiResponse, AuthResponse } from '@/types';\n\n// Configuration for API endpoints\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8001';\nconst AUTH_TOKEN_KEY = 'todo_auth_token';\n\n// Helper function to get JWT token from localStorage\nconst getAuthToken = (): string | null => {\n  const token = localStorage.getItem(AUTH_TOKEN_KEY);\n\n  // Check if it's a mock token and clear it if so\n  if (token && token.startsWith('mock.')) {\n    console.log('Found mock token, clearing it');\n    localStorage.removeItem(AUTH_TOKEN_KEY);\n    return null;\n  }\n\n  return token;\n};\n\n// Helper function to get user ID from token\nconst getCurrentUserId = (): string | null => {\n  const token = getAuthToken();\n  if (!token) return null;\n\n  try {\n    // Decode JWT payload (second part after the dot)\n    const tokenParts = token.split('.');\n    if (tokenParts.length !== 3) return null;\n\n    const payload = tokenParts[1];\n    const decodedPayload = atob(payload);\n    const parsed = JSON.parse(decodedPayload);\n    return parsed.sub || parsed.userId;\n  } catch (e) {\n    console.error('Error parsing token:', e);\n    // If there's an error parsing the token, remove it from storage\n    localStorage.removeItem(AUTH_TOKEN_KEY);\n    return null;\n  }\n};\n\n// Generic API request helper\nconst apiRequest = async (\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<any> => {\n  const token = getAuthToken();\n\n  const headers = {\n    'Content-Type': 'application/json',\n    ...(token ? { 'Authorization': `Bearer ${token}` } : {}),\n    ...options.headers,\n  };\n\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n    ...options,\n    headers,\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n  }\n\n  return response.json();\n};\n\nexport class ApiClient {\n  private loadingStates: Map<string, boolean> = new Map();\n\n  isLoading(operation: string): boolean {\n    return this.loadingStates.get(operation) || false;\n  }\n\n  private setLoading(operation: string, loading: boolean): void {\n    this.loadingStates.set(operation, loading);\n  }\n\n  // Authentication methods\n  async signup(email: string, password: string): Promise<AuthResponse> {\n    this.setLoading('signup', true);\n    try {\n      // Clear any existing mock tokens before signing up\n      localStorage.removeItem(AUTH_TOKEN_KEY);\n\n      const response = await fetch(`${API_BASE_URL}/api/auth/signup`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const result = await response.json();\n\n      if (response.ok && result.token) {\n        localStorage.setItem(AUTH_TOKEN_KEY, result.token);\n        return { success: true, user: result.user, token: result.token };\n      } else {\n        return { success: false, error: result.detail || 'Signup failed' };\n      }\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('signup', false);\n    }\n  }\n\n  async signin(email: string, password: string): Promise<AuthResponse> {\n    this.setLoading('signin', true);\n    try {\n      // Clear any existing mock tokens before signing in\n      localStorage.removeItem(AUTH_TOKEN_KEY);\n\n      const response = await fetch(`${API_BASE_URL}/api/auth/signin`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const result = await response.json();\n\n      if (response.ok && result.token) {\n        localStorage.setItem(AUTH_TOKEN_KEY, result.token);\n        return { success: true, user: result.user, token: result.token };\n      } else {\n        return { success: false, error: result.detail || 'Signin failed' };\n      }\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('signin', false);\n    }\n  }\n\n  async signout(): Promise<ApiResponse> {\n    this.setLoading('signout', true);\n    try {\n      // Remove token from localStorage\n      localStorage.removeItem(AUTH_TOKEN_KEY);\n\n      // In a real app, we might also call a backend logout endpoint\n      return { success: true, message: 'Successfully signed out' };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('signout', false);\n    }\n  }\n\n  getCurrentUser(): User | null {\n    const token = getAuthToken();\n    if (!token) return null;\n\n    try {\n      const tokenParts = token.split('.');\n      if (tokenParts.length !== 3) return null;\n\n      const payload = tokenParts[1];\n      const decodedPayload = atob(payload);\n      const parsed = JSON.parse(decodedPayload);\n\n      return {\n        id: parsed.sub || parsed.userId,\n        email: parsed.email,\n        createdAt: new Date(parsed.iat * 1000),\n        lastLoginAt: new Date()\n      };\n    } catch (e) {\n      console.error('Error getting current user:', e);\n      return null;\n    }\n  }\n\n  isAuthenticated(): boolean {\n    const token = getAuthToken();\n    if (!token) return false;\n\n    try {\n      const tokenParts = token.split('.');\n      if (tokenParts.length !== 3) {\n        // If the token format is wrong, remove it\n        localStorage.removeItem(AUTH_TOKEN_KEY);\n        return false;\n      }\n\n      const payload = tokenParts[1];\n      const decodedPayload = atob(payload);\n      const parsed = JSON.parse(decodedPayload);\n      const now = Math.floor(Date.now() / 1000);\n      const isValid = parsed.exp > now; // Check if token is not expired\n\n      // If token is expired, remove it\n      if (!isValid) {\n        localStorage.removeItem(AUTH_TOKEN_KEY);\n      }\n\n      return isValid;\n    } catch (e) {\n      // If there's an error parsing the token, remove it\n      localStorage.removeItem(AUTH_TOKEN_KEY);\n      return false;\n    }\n  }\n\n  // Task methods\n  async getTasks(): Promise<ApiResponse<Task[]>> {\n    this.setLoading('getTasks', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      const tasks = await apiRequest(`/api/${userId}/tasks/`);\n      this.cacheTasks(tasks);\n      return { success: true, data: tasks };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('getTasks', false);\n    }\n  }\n\n  async getTask(taskId: string): Promise<ApiResponse<Task>> {\n    this.setLoading('getTask', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      const task = await apiRequest(`/api/${userId}/tasks/${taskId}`);\n      this.cacheTask(task);\n      return { success: true, data: task };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('getTask', false);\n    }\n  }\n\n  async createTask(title: string, description?: string): Promise<ApiResponse<Task>> {\n    this.setLoading('createTask', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      if (!title || title.trim().length < 1 || title.trim().length > 200) {\n        return { success: false, error: 'Title must be between 1 and 200 characters' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      const taskData = {\n        title: title.trim(),\n        description: description?.trim(),\n        completed: false\n      };\n\n      const newTask = await apiRequest(`/api/${userId}/tasks/`, {\n        method: 'POST',\n        body: JSON.stringify(taskData)\n      });\n\n      this.cacheTask(newTask);\n      return { success: true, data: newTask };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('createTask', false);\n    }\n  }\n\n  public addToCache(task: Task): void {\n    this.cacheTask(task);\n  }\n\n  public async refreshTasks(): Promise<ApiResponse<Task[]>> {\n    return await this.getTasks();\n  }\n\n  async updateTask(taskId: string, updates: Partial<Task>): Promise<ApiResponse<Task>> {\n    this.setLoading('updateTask', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      const updatedTask = await apiRequest(`/api/${userId}/tasks/${taskId}`, {\n        method: 'PUT',\n        body: JSON.stringify(updates)\n      });\n\n      this.cacheTask(updatedTask);\n      return { success: true, data: updatedTask };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('updateTask', false);\n    }\n  }\n\n  async toggleTask(taskId: string): Promise<ApiResponse<Task>> {\n    this.setLoading('toggleTask', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      // Optimistic update: temporarily flip the completed status\n      const tempTask = { id: taskId, completed: !this.getCachedTaskCompletionStatus(taskId) } as Task;\n      if (typeof window !== 'undefined') {\n        // Update loading state to indicate optimistic update\n        this.optimisticUpdates.set(taskId, { completed: tempTask.completed });\n      }\n\n      const toggledTask = await apiRequest(`/api/${userId}/tasks/${taskId}/toggle`, {\n        method: 'PATCH'\n      });\n\n      // Remove optimistic update marker\n      if (typeof window !== 'undefined') {\n        this.optimisticUpdates.delete(taskId);\n      }\n\n      return { success: true, data: toggledTask };\n    } catch (error: any) {\n      // Revert optimistic update if there was an error\n      if (typeof window !== 'undefined') {\n        this.optimisticUpdates.delete(taskId);\n      }\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('toggleTask', false);\n    }\n  }\n\n  private optimisticUpdates: Map<string, Partial<Task>> = new Map();\n  private taskCache: Map<string, Task> = new Map();\n\n  private getCachedTaskCompletionStatus(taskId: string): boolean {\n    const cached = this.taskCache.get(taskId);\n    if (cached) return cached.completed;\n\n    const optimistic = this.optimisticUpdates.get(taskId);\n    if (optimistic) return !!optimistic.completed;\n\n    return false; // default value\n  }\n\n  private cacheTask(task: Task): void {\n    this.taskCache.set(task.id, task);\n  }\n\n  private cacheTasks(tasks: Task[]): void {\n    tasks.forEach(task => this.cacheTask(task));\n  }\n\n  private removeCachedTask(taskId: string): void {\n    this.taskCache.delete(taskId);\n  }\n\n  public getCachedTask(taskId: string): Task | undefined {\n    return this.taskCache.get(taskId);\n  }\n\n  public getAllCachedTasks(): Task[] {\n    return Array.from(this.taskCache.values());\n  }\n\n  async deleteTask(taskId: string): Promise<ApiResponse> {\n    this.setLoading('deleteTask', true);\n    try {\n      if (!this.isAuthenticated()) {\n        return { success: false, error: 'Unauthorized' };\n      }\n\n      const userId = getCurrentUserId();\n      if (!userId) {\n        return { success: false, error: 'No user ID found' };\n      }\n\n      await apiRequest(`/api/${userId}/tasks/${taskId}`, {\n        method: 'DELETE'\n      });\n\n      this.removeCachedTask(taskId);\n      return { success: true, message: 'Task deleted successfully' };\n    } catch (error: any) {\n      return { success: false, error: error.message };\n    } finally {\n      this.setLoading('deleteTask', false);\n    }\n  }\n}\n\nexport const apiClient = new ApiClient();"],"names":[],"mappings":"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"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/components/auth/AuthProvider.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User } from '@/types';\nimport { apiClient } from '@/lib/api';\n\ninterface AuthContextType {\n  user: User | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  signIn: (email: string, password: string) => Promise<{ success: boolean; error?: string }>;\n  signUp: (email: string, password: string) => Promise<{ success: boolean; error?: string }>;\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Check authentication status on mount\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      setIsLoading(true);\n      // We'll use our centralized API client to check auth status\n      const currentUser = window.localStorage.getItem('todo_auth_token') ?\n        JSON.parse(atob(window.localStorage.getItem('todo_auth_token')!.split('.')[1])) : null;\n\n      if (currentUser) {\n        const userData = {\n          id: currentUser.sub || currentUser.userId,\n          email: currentUser.email,\n          createdAt: new Date(currentUser.iat * 1000),\n        };\n        setUser(userData);\n      }\n      setIsLoading(false);\n    };\n\n    checkAuthStatus();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      const result = await apiClient.signin(email, password);\n      if (result.success && result.user) {\n        setUser(result.user);\n        return { success: true };\n      } else {\n        return { success: false, error: result.error || 'Sign in failed' };\n      }\n    } catch (error) {\n      console.error('Sign in error:', error);\n      return { success: false, error: 'Network error occurred' };\n    }\n  };\n\n  const signUp = async (email: string, password: string) => {\n    try {\n      const result = await apiClient.signup(email, password);\n      if (result.success && result.user) {\n        setUser(result.user);\n        return { success: true };\n      } else {\n        return { success: false, error: result.error || 'Sign up failed' };\n      }\n    } catch (error) {\n      console.error('Sign up error:', error);\n      return { success: false, error: 'Network error occurred' };\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await apiClient.signout();\n      setUser(null);\n    } catch (error) {\n      console.error('Sign out error:', error);\n    }\n  };\n\n  const value: AuthContextType = {\n    user,\n    isAuthenticated: !!user,\n    isLoading,\n    signIn,\n    signUp,\n    signOut,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAeA,MAAM,4BAAc,IAAA,wPAAa,EAA8B;AAExD,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,qPAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa;AAYN,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mPAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAAC;IAE3C,uCAAuC;IACvC,IAAA,oPAAS;kCAAC;YACR,MAAM;0DAAkB;oBACtB,aAAa;oBACb,4DAA4D;oBAC5D,MAAM,cAAc,OAAO,YAAY,CAAC,OAAO,CAAC,qBAC9C,KAAK,KAAK,CAAC,KAAK,OAAO,YAAY,CAAC,OAAO,CAAC,mBAAoB,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK;oBAEpF,IAAI,aAAa;wBACf,MAAM,WAAW;4BACf,IAAI,YAAY,GAAG,IAAI,YAAY,MAAM;4BACzC,OAAO,YAAY,KAAK;4BACxB,WAAW,IAAI,KAAK,YAAY,GAAG,GAAG;wBACxC;wBACA,QAAQ;oBACV;oBACA,aAAa;gBACf;;YAEA;QACF;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,IAAI;YACF,MAAM,SAAS,MAAM,oMAAS,CAAC,MAAM,CAAC,OAAO;YAC7C,IAAI,OAAO,OAAO,IAAI,OAAO,IAAI,EAAE;gBACjC,QAAQ,OAAO,IAAI;gBACnB,OAAO;oBAAE,SAAS;gBAAK;YACzB,OAAO;gBACL,OAAO;oBAAE,SAAS;oBAAO,OAAO,OAAO,KAAK,IAAI;gBAAiB;YACnE;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAyB;QAC3D;IACF;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,IAAI;YACF,MAAM,SAAS,MAAM,oMAAS,CAAC,MAAM,CAAC,OAAO;YAC7C,IAAI,OAAO,OAAO,IAAI,OAAO,IAAI,EAAE;gBACjC,QAAQ,OAAO,IAAI;gBACnB,OAAO;oBAAE,SAAS;gBAAK;YACzB,OAAO;gBACL,OAAO;oBAAE,SAAS;oBAAO,OAAO,OAAO,KAAK,IAAI;gBAAiB;YACnE;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAyB;QAC3D;IACF;IAEA,MAAM,UAAU;QACd,IAAI;YACF,MAAM,oMAAS,CAAC,OAAO;YACvB,QAAQ;QACV,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;QACnC;IACF;IAEA,MAAM,QAAyB;QAC7B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;IACF;IAEA,qBAAO,uQAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;IA3Ea;KAAA"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark';\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n}\n\nexport const ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\n  const [theme, setTheme] = useState<Theme>('light');\n\n  useEffect(() => {\n    // Check for saved theme in localStorage or system preference\n    const savedTheme = localStorage.getItem('theme') as Theme | null;\n    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n    if (savedTheme) {\n      setTheme(savedTheme);\n    } else if (systemPrefersDark) {\n      setTheme('dark');\n    }\n  }, []);\n\n  useEffect(() => {\n    // Apply theme to document with smooth transition\n    const root = document.documentElement;\n    console.log('Theme changed to:', theme);\n\n    // Add transition class to body for smooth theme switching\n    document.body.classList.add('theme-transition-all');\n\n    // Remove existing theme classes and add new one\n    root.classList.remove('light', 'dark');\n    root.classList.add(theme);\n\n    // Save theme to localStorage\n    localStorage.setItem('theme', theme);\n\n    // Clean up transition class after transition completes\n    const cleanupTransition = setTimeout(() => {\n      document.body.classList.remove('theme-transition-all');\n    }, 300); // Match the CSS transition duration\n\n    return () => clearTimeout(cleanupTransition);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    console.log('Toggle theme called, current:', theme);\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;;;;;;;AAEA;;;AAFA;;AAWO,MAAM,6BAAe,IAAA,wPAAa,EAA+B;AAEjE,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAQ;IAE1C,IAAA,oPAAS;mCAAC;YACR,6DAA6D;YAC7D,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,oBAAoB,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAEnF,IAAI,YAAY;gBACd,SAAS;YACX,OAAO,IAAI,mBAAmB;gBAC5B,SAAS;YACX;QACF;kCAAG,EAAE;IAEL,IAAA,oPAAS;mCAAC;YACR,iDAAiD;YACjD,MAAM,OAAO,SAAS,eAAe;YACrC,QAAQ,GAAG,CAAC,qBAAqB;YAEjC,0DAA0D;YAC1D,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAE5B,gDAAgD;YAChD,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;YAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;YAEnB,6BAA6B;YAC7B,aAAa,OAAO,CAAC,SAAS;YAE9B,uDAAuD;YACvD,MAAM,oBAAoB;6DAAW;oBACnC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACjC;4DAAG,MAAM,oCAAoC;YAE7C;2CAAO,IAAM,aAAa;;QAC5B;kCAAG;QAAC;KAAM;IAEV,MAAM,cAAc;QAClB,QAAQ,GAAG,CAAC,iCAAiC;QAC7C,SAAS,CAAA,OAAQ,SAAS,UAAU,SAAS;IAC/C;IAEA,qBACE,uQAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;GAhDa;KAAA;AAkDN,MAAM,WAAW;;IACtB,MAAM,UAAU,IAAA,qPAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/hooks/useTheme.ts"],"sourcesContent":["export { useTheme } from '../contexts/ThemeContext';"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/components/ui/Header.tsx"],"sourcesContent":["'use client';\n\nimport { useTheme } from '@/hooks/useTheme';\nimport { SunIcon, MoonIcon, UserCircleIcon } from '@heroicons/react/24/outline';\nimport React, { Fragment } from 'react';\nimport { Menu, Transition } from '@headlessui/react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { apiClient } from '@/lib/api';\n\nconst Header = () => {\n  const { theme, toggleTheme } = useTheme();\n\n  const router = useRouter();\n\n  const handleLogout = async () => {\n    await apiClient.signout();\n    router.push('/auth/signin');\n  };\n\n  const handleChatHistory = () => {\n    router.push('/chat');\n  };\n\n  return (\n    <header\n      className=\"fixed top-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm py-3 sm:py-4 px-4 sm:px-6 z-50 border-b border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300 pointer-events-auto\"\n    >\n      <div className=\"flex justify-between items-center\">\n        {/* App name */}\n        <div\n          className=\"text-lg sm:text-xl font-bold text-gray-800 dark:text-white\"\n        >\n          Todo App\n        </div>\n\n        {/* Right side controls */}\n        <div className=\"flex items-center space-x-2 sm:space-x-4\">\n          {/* Theme toggle button */}\n          <button\n            onClick={toggleTheme}\n            className=\"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors cursor-pointer pointer-events-auto relative z-50\"\n            aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n          >\n            {theme === 'light' ? (\n              <MoonIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-gray-700 dark:text-gray-300\" />\n            ) : (\n              <SunIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400\" />\n            )}\n          </button>\n\n          {/* User menu */}\n          <Menu as=\"div\" className=\"relative z-50\">\n            <Menu.Button className=\"flex items-center space-x-1 sm:space-x-2 p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors cursor-pointer\">\n              <UserCircleIcon className=\"h-5 w-5 sm:h-6 sm:w-6 text-gray-700 dark:text-gray-300\" />\n            </Menu.Button>\n            <Transition\n              as={Fragment}\n              enter=\"transition ease-out duration-100\"\n              enterFrom=\"transform opacity-0 scale-95\"\n              enterTo=\"transform opacity-100 scale-100\"\n              leave=\"transition ease-in duration-75\"\n              leaveFrom=\"transform opacity-100 scale-100\"\n              leaveTo=\"transform opacity-0 scale-95\"\n            >\n              <Menu.Items className=\"absolute right-0 mt-2 w-40 sm:w-48 bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 z-50 focus:outline-none ring-1 ring-black ring-opacity-5\">\n                <Menu.Item>\n                  {({ active }) => (\n                    <button\n                      onClick={handleChatHistory}\n                      className={`${active ? 'bg-gray-100 dark:bg-gray-700' : ''\n                        } block w-full text-left px-3 sm:px-4 py-2 text-sm text-gray-700 dark:text-gray-300`}\n                    >\n                      Chat History\n                    </button>\n                  )}\n                </Menu.Item>\n                <Menu.Item>\n                  {({ active }) => (\n                    <button\n                      onClick={handleLogout}\n                      className={`${active ? 'bg-gray-100 dark:bg-gray-700' : ''\n                        } block w-full text-left px-3 sm:px-4 py-2 text-sm text-red-600`}\n                    >\n                      Logout\n                    </button>\n                  )}\n                </Menu.Item>\n              </Menu.Items>\n            </Transition>\n          </Menu>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;;;AARA;;;;;;;AAUA,MAAM,SAAS;;IACb,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,kNAAQ;IAEvC,MAAM,SAAS,IAAA,4NAAS;IAExB,MAAM,eAAe;QACnB,MAAM,oMAAS,CAAC,OAAO;QACvB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,oBAAoB;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,uQAAC;QACC,WAAU;kBAEV,cAAA,uQAAC;YAAI,WAAU;;8BAEb,uQAAC;oBACC,WAAU;8BACX;;;;;;8BAKD,uQAAC;oBAAI,WAAU;;sCAEb,uQAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAY,CAAC,UAAU,EAAE,UAAU,UAAU,SAAS,QAAQ,KAAK,CAAC;sCAEnE,UAAU,wBACT,uQAAC,wSAAQ;gCAAC,WAAU;;;;;yFAEpB,uQAAC,qSAAO;gCAAC,WAAU;;;;;;;;;;;sCAKvB,uQAAC,gQAAI;4BAAC,IAAG;4BAAM,WAAU;;8CACvB,uQAAC,gQAAI,CAAC,MAAM;oCAAC,WAAU;8CACrB,cAAA,uQAAC,0TAAc;wCAAC,WAAU;;;;;;;;;;;8CAE5B,uQAAC,kRAAU;oCACT,IAAI,mPAAQ;oCACZ,OAAM;oCACN,WAAU;oCACV,SAAQ;oCACR,OAAM;oCACN,WAAU;oCACV,SAAQ;8CAER,cAAA,uQAAC,gQAAI,CAAC,KAAK;wCAAC,WAAU;;0DACpB,uQAAC,gQAAI,CAAC,IAAI;0DACP,CAAC,EAAE,MAAM,EAAE,iBACV,uQAAC;wDACC,SAAS;wDACT,WAAW,GAAG,SAAS,iCAAiC,GACrD,kFAAkF,CAAC;kEACvF;;;;;;;;;;;0DAKL,uQAAC,gQAAI,CAAC,IAAI;0DACP,CAAC,EAAE,MAAM,EAAE,iBACV,uQAAC;wDACC,SAAS;wDACT,WAAW,GAAG,SAAS,iCAAiC,GACrD,8DAA8D,CAAC;kEACnE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYrB;GArFM;;QAC2B,kNAAQ;QAExB,4NAAS;;;KAHpB;uCAuFS"}},
    {"offset": {"line": 894, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/components/ui/Footer.tsx"],"sourcesContent":["'use client';\n\nconst Footer = () => {\n  const currentYear = new Date().getFullYear();\n\n  return (\n    <footer\n      className=\"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-t border-gray-200 dark:border-gray-700 py-4 px-4 mt-auto relative z-10\"\n    >\n      <div className=\"flex flex-col sm:flex-row justify-between items-center gap-2\">\n        <div className=\"text-gray-600 dark:text-gray-400 text-xs sm:text-sm\">\n          Â© {currentYear} Todo App. All rights reserved.\n        </div>\n        <div className=\"mt-2 sm:mt-0 flex flex-wrap justify-center gap-3 sm:gap-6\">\n          <a\n            href=\"#\"\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 text-xs sm:text-sm transition-colors hover:-translate-y-0.5\"\n          >\n            Privacy\n          </a>\n          <a\n            href=\"#\"\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 text-xs sm:text-sm transition-colors hover:-translate-y-0.5\"\n          >\n            Terms\n          </a>\n          <a\n            href=\"#\"\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 text-xs sm:text-sm transition-colors hover:-translate-y-0.5\"\n          >\n            Contact\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,SAAS;IACb,MAAM,cAAc,IAAI,OAAO,WAAW;IAE1C,qBACE,uQAAC;QACC,WAAU;kBAEV,cAAA,uQAAC;YAAI,WAAU;;8BACb,uQAAC;oBAAI,WAAU;;wBAAsD;wBAChE;wBAAY;;;;;;;8BAEjB,uQAAC;oBAAI,WAAU;;sCACb,uQAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,uQAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,uQAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;KAlCM;uCAoCS"}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/services/chatService.ts"],"sourcesContent":["const getApiBaseUrl = () => {\r\n    if (typeof window !== 'undefined') {\r\n        // Client-side: use environment variable or fallback\r\n        return process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8001';\r\n    }\r\n    // Server-side: return a placeholder (API calls should only happen client-side)\r\n    return process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8001';\r\n};\r\n\r\nexport interface ChatMessage {\r\n    role: 'user' | 'assistant' | 'tool';\r\n    content: string;\r\n    id?: string;\r\n    created_at?: string;\r\n}\r\n\r\nexport interface ChatResponse {\r\n    response: string;\r\n    conversation_id: string;\r\n    tool_calls?: any[];\r\n}\r\n\r\nexport interface Conversation {\r\n    id: string;\r\n    title: string;\r\n    user_id: string;\r\n    created_at: string;\r\n    updated_at: string;\r\n}\r\n\r\nconst getAuthToken = () => {\r\n    if (typeof window !== 'undefined') {\r\n        return window.localStorage.getItem('todo_auth_token');\r\n    }\r\n    return null;\r\n};\r\n\r\nexport const chatService = {\r\n    sendMessage: async (userId: string, message: string, conversationId?: string): Promise<ChatResponse> => {\r\n        const API_BASE_URL = getApiBaseUrl();\r\n        const url = new URL(`${API_BASE_URL}/api/${userId}/chat`);\r\n        if (conversationId) {\r\n            url.searchParams.append('conversation_id', conversationId);\r\n        }\r\n\r\n        const token = getAuthToken();\r\n\r\n        const response = await fetch(url.toString(), {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({ message }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const error = await response.json();\r\n            throw new Error(error.detail || 'Failed to send message');\r\n        }\r\n\r\n        return response.json();\r\n    },\r\n\r\n    getConversations: async (userId: string): Promise<{ conversations: Conversation[], total: number }> => {\r\n        const API_BASE_URL = getApiBaseUrl();\r\n        const token = getAuthToken();\r\n        const response = await fetch(`${API_BASE_URL}/api/${userId}/conversations`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch conversations');\r\n        }\r\n\r\n        return response.json();\r\n    },\r\n\r\n    getConversationDetails: async (userId: string, conversationId: string): Promise<{ conversation: Conversation, messages: ChatMessage[] }> => {\r\n        const API_BASE_URL = getApiBaseUrl();\r\n        const token = getAuthToken();\r\n        const response = await fetch(`${API_BASE_URL}/api/${userId}/conversations/${conversationId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n            },\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Failed to fetch conversation details');\r\n        }\r\n\r\n        return response.json();\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAGe;AAHf,MAAM,gBAAgB;IAClB,wCAAmC;QAC/B,oDAAoD;QACpD,OAAO,6DAAwC;IACnD;;;AAGJ;AAuBA,MAAM,eAAe;IACjB,wCAAmC;QAC/B,OAAO,OAAO,YAAY,CAAC,OAAO,CAAC;IACvC;;;AAEJ;AAEO,MAAM,cAAc;IACvB,aAAa,OAAO,QAAgB,SAAiB;QACjD,MAAM,eAAe;QACrB,MAAM,MAAM,IAAI,IAAI,GAAG,aAAa,KAAK,EAAE,OAAO,KAAK,CAAC;QACxD,IAAI,gBAAgB;YAChB,IAAI,YAAY,CAAC,MAAM,CAAC,mBAAmB;QAC/C;QAEA,MAAM,QAAQ;QAEd,MAAM,WAAW,MAAM,MAAM,IAAI,QAAQ,IAAI;YACzC,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;YACtC;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAQ;QACnC;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,MAAM,IAAI;QACpC;QAEA,OAAO,SAAS,IAAI;IACxB;IAEA,kBAAkB,OAAO;QACrB,MAAM,eAAe;QACrB,MAAM,QAAQ;QACd,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,KAAK,EAAE,OAAO,cAAc,CAAC,EAAE;YACxE,SAAS;gBACL,iBAAiB,CAAC,OAAO,EAAE,OAAO;YACtC;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM;QACpB;QAEA,OAAO,SAAS,IAAI;IACxB;IAEA,wBAAwB,OAAO,QAAgB;QAC3C,MAAM,eAAe;QACrB,MAAM,QAAQ;QACd,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,KAAK,EAAE,OAAO,eAAe,EAAE,gBAAgB,EAAE;YAC1F,SAAS;gBACL,iBAAiB,CAAC,OAAO,EAAE,OAAO;YACtC;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM;QACpB;QAEA,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 1057, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/M_S_H/Desktop/Hackathon2%20-%20Todo/Phase3-Todo-App/frontend/components/ChatInterface.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Chatbot from 'react-chatbot-kit';\r\nimport 'react-chatbot-kit/build/main.css';\r\nimport { chatService } from '@/services/chatService';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { createChatBotMessage } from 'react-chatbot-kit';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { ChatBubbleLeftRightIcon, XMarkIcon } from '@heroicons/react/24/outline';\r\n\r\ninterface ChatInterfaceProps {\r\n    onAction?: () => void;\r\n}\r\n\r\nconst ChatInterface: React.FC<ChatInterfaceProps> = ({ onAction }) => {\r\n    const { user, isAuthenticated, isLoading } = useAuth();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [conversationId, setConversationId] = useState<string | undefined>(undefined);\r\n\r\n    const userId = user?.id;\r\n\r\n    const [isLoadingHistory, setIsLoadingHistory] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            loadRecentHistory();\r\n        }\r\n    }, [userId]);\r\n\r\n    const loadRecentHistory = async () => {\r\n        try {\r\n            setIsLoadingHistory(true);\r\n            const { conversations } = await chatService.getConversations(userId!);\r\n            if (conversations.length > 0) {\r\n                const latest = conversations[0];\r\n                setConversationId(latest.id);\r\n                // We don't necessarily load all messages into the widget's initial state here \r\n                // because react-chatbot-kit handles its own message state.\r\n                // However, we can fetch them and inject them into the initial state if we wanted.\r\n                // For now, setting the ID is enough to continue the same session.\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to load chat history:', err);\r\n        } finally {\r\n            setIsLoadingHistory(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading || !isAuthenticated || !userId) return null;\r\n\r\n    const config = {\r\n        initialMessages: [createChatBotMessage(`Hi! I'm your Todo AI assistant. You can ask me to add, list, complete, or delete tasks. How can I help?`, {})],\r\n        botName: 'TodoAssistant',\r\n        customStyles: {\r\n            botMessageBox: {\r\n                backgroundColor: '#3b82f6',\r\n            },\r\n            chatButton: {\r\n                backgroundColor: '#3b82f6',\r\n            },\r\n        },\r\n    };\r\n\r\n    const MessageParser = ({ children, actions }: any) => {\r\n        const parse = (message: string) => {\r\n            actions.handleUserMessage(message);\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {React.Children.map(children, (child) => {\r\n                    return React.cloneElement(child, {\r\n                        parse: parse,\r\n                        actions,\r\n                    });\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const ActionProvider = ({ createChatBotMessage, setState, children }: any) => {\r\n        const handleUserMessage = async (message: string) => {\r\n            try {\r\n                const response = await chatService.sendMessage(userId, message, conversationId);\r\n\r\n                if (response.conversation_id && !conversationId) {\r\n                    setConversationId(response.conversation_id);\r\n                }\r\n\r\n                const botMessage = createChatBotMessage(response.response, {});\r\n\r\n                setState((prev: any) => ({\r\n                    ...prev,\r\n                    messages: [...prev.messages, botMessage],\r\n                }));\r\n\r\n                // If tools were called, it's likely something changed. Trigger refresh.\r\n                if (response.tool_calls && response.tool_calls.length > 0) {\r\n                    if (onAction) onAction();\r\n                    // Also trigger a global event for other components to refresh\r\n                    window.dispatchEvent(new CustomEvent('todo-refresh-tasks'));\r\n                }\r\n            } catch (error) {\r\n                console.error('Chat error:', error);\r\n                const errorMessage = createChatBotMessage(\"Sorry, I encountered an error. Please try again.\", {});\r\n                setState((prev: any) => ({\r\n                    ...prev,\r\n                    messages: [...prev.messages, errorMessage],\r\n                }));\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {React.Children.map(children, (child) => {\r\n                    return React.cloneElement(child, {\r\n                        actions: {\r\n                            handleUserMessage,\r\n                        },\r\n                    });\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 right-24 z-50\">\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                        className=\"mb-4 shadow-2xl rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 w-[350px] sm:w-[400px]\"\r\n                    >\r\n                        <div className=\"bg-blue-600 p-4 flex justify-between items-center text-white\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <ChatBubbleLeftRightIcon className=\"w-6 h-6\" />\r\n                                <span className=\"font-bold\">Todo AI Chat</span>\r\n                            </div>\r\n                            <button onClick={() => setIsOpen(false)} className=\"hover:bg-blue-700 p-1 rounded-full transition-colors\">\r\n                                <XMarkIcon className=\"w-6 h-6\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"bg-white dark:bg-gray-800 chatbot-container\">\r\n                            <Chatbot\r\n                                config={config}\r\n                                messageParser={MessageParser}\r\n                                actionProvider={ActionProvider}\r\n                                placeholderText=\"Type your request here...\"\r\n                            />\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"w-14 h-14 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n                {isOpen ? <XMarkIcon className=\"w-8 h-8\" /> : <ChatBubbleLeftRightIcon className=\"w-8 h-8\" />}\r\n            </motion.button>\r\n\r\n            <style jsx global>{`\r\n        .react-chatbot-kit-chat-container {\r\n          width: 100% !important;\r\n          border-radius: 0 0 1rem 1rem;\r\n          overflow: hidden;\r\n        }\r\n        .react-chatbot-kit-chat-inner-container {\r\n          background-color: transparent !important;\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n        .react-chatbot-kit-chat-message-container {\r\n          padding: 15px !important;\r\n          height: 380px !important; /* Slightly reduced to avoid clipping */\r\n          overflow-y: auto !important;\r\n          background-color: #ffffff;\r\n          scrollbar-width: none; /* Firefox */\r\n          -ms-overflow-style: none; /* IE and Edge */\r\n        }\r\n        .react-chatbot-kit-chat-message-container::-webkit-scrollbar {\r\n          display: none; /* Chrome, Safari and Opera */\r\n        }\r\n        .dark .react-chatbot-kit-chat-message-container {\r\n          background-color: #0f172a !important; /* matches slate-900 */\r\n        }\r\n        .react-chatbot-kit-chat-bot-message {\r\n          background-color: #3b82f6 !important;\r\n          color: white !important;\r\n          margin-left: 0 !important;\r\n        }\r\n        .react-chatbot-kit-user-chat-message {\r\n          background-color: #e5e7eb !important;\r\n          color: #1f2937 !important;\r\n        }\r\n        .dark .react-chatbot-kit-chat-bot-message {\r\n          background-color: #3b82f6 !important;\r\n          color: #ffffff !important;\r\n        }\r\n        .dark .react-chatbot-kit-user-chat-message {\r\n          background-color: #334155 !important; /* matches slate-700 */\r\n          color: #f8fafc !important;\r\n        }\r\n        .react-chatbot-kit-chat-input-container {\r\n          border-top: 1px solid #e5e7eb !important;\r\n          padding: 10px !important;\r\n          background-color: #f9fafb !important;\r\n        }\r\n        .dark .react-chatbot-kit-chat-input-container {\r\n          border-top: 1px solid #334155 !important;\r\n          background-color: #1e293b !important;\r\n        }\r\n        .react-chatbot-kit-chat-input {\r\n          padding: 10px 15px !important;\r\n          border-radius: 12px !important;\r\n          border: 1px solid #d1d5db !important;\r\n          font-size: 0.9rem !important;\r\n        }\r\n        .dark .react-chatbot-kit-chat-input {\r\n          background-color: #0f172a !important;\r\n          color: white !important;\r\n          border: 1px solid #334155 !important;\r\n        }\r\n        .react-chatbot-kit-chat-btn-send {\r\n          border-radius: 10px !important;\r\n          margin-left: 8px !important;\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatInterface;\r\n"],"names":[],"mappings":"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"}}]
}